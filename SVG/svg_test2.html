<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="raphael-min.js"></script>
<script src="waubs_5.js"></script>
<script src="Map.js"></script>
<title>svg test	</title>
<style>
#siteDiv {
	height:480px;
	width:640px;
}
#jqDiv {
	height:480px;
	width:640px;
	background:#ccc
}
</style>

<script>
//var site;

$(document).ready(function()
{
	/*  $.ajax({
		type: "GET",
		url: "svg_boxes.svg",
		dataType: "xml",
		success: parseXml
	  }); 
	  
	  function parseXml(data){
//		  $('#targetDiv').append(data);
	  }*/


	//drawSiteMap("siteDiv");
	//raphDrawMap();

	var site = new Map('site','siteDiv',640,480);
	console.log(site);
	site.addBlock('B11',"768.761,1015.75 768.761,1007.461 788.712,1007.461 788.712,989.352 808.357,989.352 808.357,978.915 928.99,978.915 928.99,954.666 909.038,954.666 909.038,919.673 928.99,919.673 928.99,900.335 948.635,900.335 948.635,891.434 969.507,891.434 969.507,882.532 1073.257,882.532 1073.257,892.048 1093.209,892.048 1093.209,918.446 1112.547,918.446 1112.547,954.666 1132.806,954.666 1132.806,981.371 1153.064,981.371 1153.064,1018.205 1171.481,1018.205 1171.481,1055.039 1192.047,1055.039 1192.047,1080.823 1173.323,1080.823 1173.323,1098.933 1048.701,1098.933 1048.701,1081.13 1027.828,1081.13 1027.828,1053.812 988.845,1053.812 988.845,1036.622 968.586,1036.622 968.586,1024.344 811.734,1024.344 811.734,1015.75"); 
	site.blocks[0].addTrackingArea('TA1',"768.761,1015.75 768.761,1007.461 788.712,1007.461 788.712,989.352 808.357,989.352 808.357,978.915 928.99,978.915 928.99,954.666 909.038,954.666 909.038,919.673 928.99,919.673 928.99,900.335 948.635,900.335 948.635,891.434 969.507,891.434 969.507,882.532 1073.257,882.532 1073.257,892.048 1093.209,892.048 1093.209,918.446 1112.547,918.446 1112.547,954.666 1132.806,954.666 1132.806,981.371 1153.064,981.371 1153.064,1018.205 1171.481,1018.205 1171.481,1055.039 1192.047,1055.039 1192.047,1080.823 1173.323,1080.823 1173.323,1098.933 1048.701,1098.933 1048.701,1081.13 1027.828,1081.13 1027.828,1053.812 988.845,1053.812 988.845,1036.622 968.586,1036.622 968.586,1024.344 811.734,1024.344 811.734,1015.75"); 
	site.blocks[0].trackingAreas[0].addSkid('IS1',400,52);

	site.addBlock('B12',"629.098,1106.607 648.743,1106.607 648.743,1087.576 669.615,1087.576 669.615,1069.159 708.598,1069.159 708.598,1043.375 729.778,1043.375 729.778,1034.167 748.502,1034.167 748.502,1024.344 768.761,1024.344 768.761,1015.749 811.735,1015.749 811.735,1024.344 893.383,1024.344 893.383,1034.167 912.414,1034.167 912.414,1051.356 933.287,1051.356 933.287,1087.576 913.335,1087.576 913.335,1105.993 893.997,1105.993 893.997,1115.509 873.125,1115.509 873.125,1133.312 853.479,1133.312 853.479,1150.501 835.369,1150.501 835.369,1160.631 813.883,1160.631 813.883,1169.532 709.826,1169.532 709.826,1160.324 650.277,1160.324 650.277,1151.729 629.098,1151.729");
	site.blocks[1].addTrackingArea('TA2',"629.098,1106.607 648.743,1106.607 648.743,1087.576 669.615,1087.576 669.615,1069.159 708.598,1069.159 708.598,1043.375 729.778,1043.375 729.778,1034.167 748.502,1034.167 748.502,1024.344 768.761,1024.344 768.761,1015.749 811.735,1015.749 811.735,1024.344 893.383,1024.344 893.383,1034.167 912.414,1034.167 912.414,1051.356 933.287,1051.356 933.287,1087.576 913.335,1087.576 913.335,1105.993 893.997,1105.993 893.997,1115.509 873.125,1115.509 873.125,1133.312 853.479,1133.312 853.479,1150.501 835.369,1150.501 835.369,1160.631 813.883,1160.631 813.883,1169.532 709.826,1169.532 709.826,1160.324 650.277,1160.324 650.277,1151.729 629.098,1151.729");
	site.blocks[1].trackingAreas[0].addSkid('IS2',160,196);

	site.renderMap();
	$('#warning').click(function(){sendAlarm('site','IS2')});

function sendAlarm(map,device){
	address = eval(map+".findDevice('"+device+"')");
	eval(address+".alarm()");
}



});


</script>

</head>

<body>
<a id="warning" href="#">B11 Alarm</a>
<div id="siteDiv">
</div>



</body>
</html>
